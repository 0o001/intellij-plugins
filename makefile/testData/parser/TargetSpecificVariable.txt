Makefile
  PsiComment(COMMENT)('# This set VARIABLE to "foo" for the duration of handling test-bar\n')
  MakefileRuleImpl(RULE)
    MakefileTargetLineImpl(TARGET_LINE)
      MakefileTargetsImpl(TARGETS)
        MakefileTargetImpl(TARGET)
          PsiElement(identifier)('test-foo')
      PsiElement(:)(':')
      PsiWhiteSpace(' ')
      PsiElement(export)('export')
      PsiWhiteSpace(' ')
      MakefileVariableAssignmentImpl(VARIABLE_ASSIGNMENT)
        MakefileVariableImpl(VARIABLE)
          PsiElement(identifier)('VARIABLE')
        PsiElement(=)('=')
        MakefileVariableValueImpl(VARIABLE_VALUE)
          PsiElement(text)('foo')
  PsiElement(EOL)('\n')
  PsiComment(COMMENT)('# The above target are not actually a executable target. Without the next line you would get.\n')
  PsiComment(COMMENT)('# make: *** No rule to make target 'test-foo', needed by 'all'.  Stop.\n')
  MakefileRuleImpl(RULE)
    MakefileTargetLineImpl(TARGET_LINE)
      MakefileTargetsImpl(TARGETS)
        MakefileTargetImpl(TARGET)
          PsiElement(identifier)('test-foo')
      PsiElement(:)(':')
      MakefilePrerequisitesImpl(PREREQUISITES)
        MakefileNormalPrerequisitesImpl(NORMAL_PREREQUISITES)
          <empty list>
      PsiElement(EOL)('\n')
    MakefileRecipeImpl(RECIPE)
      MakefileCommandImpl(COMMAND)
        PsiElement(\t)('\t')
        PsiElement(text)('@echo "$$VARIABLE"')
      PsiElement(EOL)('\n\n')
  PsiComment(COMMENT)('# This set VARIABLE to "bar" for the duration of handling test-bar\n')
  MakefileRuleImpl(RULE)
    MakefileTargetLineImpl(TARGET_LINE)
      MakefileTargetsImpl(TARGETS)
        MakefileTargetImpl(TARGET)
          PsiElement(identifier)('test-bar')
      PsiElement(:)(':')
      PsiWhiteSpace(' ')
      PsiElement(export)('export')
      PsiWhiteSpace(' ')
      MakefileVariableAssignmentImpl(VARIABLE_ASSIGNMENT)
        MakefileVariableImpl(VARIABLE)
          PsiElement(identifier)('VARIABLE')
        PsiElement(=)('=')
        MakefileVariableValueImpl(VARIABLE_VALUE)
          PsiElement(text)('bar')
  PsiElement(EOL)('\n')
  MakefileRuleImpl(RULE)
    MakefileTargetLineImpl(TARGET_LINE)
      MakefileTargetsImpl(TARGETS)
        MakefileTargetImpl(TARGET)
          PsiElement(identifier)('test-bar')
      PsiElement(:)(':')
      MakefilePrerequisitesImpl(PREREQUISITES)
        MakefileNormalPrerequisitesImpl(NORMAL_PREREQUISITES)
          <empty list>
      PsiElement(EOL)('\n')
    MakefileRecipeImpl(RECIPE)
      MakefileCommandImpl(COMMAND)
        PsiElement(\t)('\t')
        PsiElement(text)('@echo "$$VARIABLE"')
      PsiElement(EOL)('\n\n')
  MakefileRuleImpl(RULE)
    MakefileTargetLineImpl(TARGET_LINE)
      MakefileTargetsImpl(TARGETS)
        MakefileTargetImpl(TARGET)
          PsiElement(identifier)('all')
      PsiElement(:)(':')
      PsiWhiteSpace(' ')
      MakefilePrerequisitesImpl(PREREQUISITES)
        MakefileNormalPrerequisitesImpl(NORMAL_PREREQUISITES)
          MakefilePrerequisiteImpl(PREREQUISITE)
            PsiElement(identifier)('test-foo')
          PsiWhiteSpace(' ')
          MakefilePrerequisiteImpl(PREREQUISITE)
            PsiElement(identifier)('test-bar')