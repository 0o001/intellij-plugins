Makefile
  MakefileConditionalImpl(CONDITIONAL)
    PsiElement(ifdef)('ifdef')
    PsiWhiteSpace(' ')
    MakefileConditionImpl(CONDITION)
      PsiElement(identifier)('TEST')
    PsiElement(EOL)('\n')
    PsiWhiteSpace('  ')
    MakefileBlockImpl(BLOCK)
      MakefileFunctionImpl(FUNCTION)
        PsiElement($()('$(')
        MakefileFunctionNameImpl(FUNCTION_NAME)
          PsiElement(FUNCTION_NAME)('error')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          PsiElement(identifier)('Some')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          MakefileFunctionNameImpl(FUNCTION_NAME)
            PsiElement(FUNCTION_NAME)('error')
        PsiElement())(')')
        PsiElement(EOL)('\n')
      PsiWhiteSpace('  ')
      MakefileFunctionImpl(FUNCTION)
        PsiElement($()('$(')
        MakefileFunctionNameImpl(FUNCTION_NAME)
          PsiElement(FUNCTION_NAME)('warning')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          PsiElement(identifier)('Some')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          MakefileFunctionNameImpl(FUNCTION_NAME)
            PsiElement(FUNCTION_NAME)('warning')
        PsiElement())(')')
        PsiElement(EOL)('\n')
      PsiWhiteSpace('  ')
      MakefileFunctionImpl(FUNCTION)
        PsiElement($()('$(')
        MakefileFunctionNameImpl(FUNCTION_NAME)
          PsiElement(FUNCTION_NAME)('info')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          PsiElement(identifier)('test')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          PsiElement(identifier)('is')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          MakefileVariableUsageImpl(VARIABLE_USAGE)
            PsiElement($()('$(')
            PsiElement(identifier)('TEST')
            PsiElement())(')')
        PsiElement())(')')
        PsiElement(EOL)('\n')
      PsiWhiteSpace('  ')
      MakefileVariableAssignmentImpl(VARIABLE_ASSIGNMENT)
        MakefileVariableImpl(VARIABLE)
          PsiElement(identifier)('CC')
        PsiElement(=)('=')
        MakefileVariableValueImpl(VARIABLE_VALUE)
          PsiElement(text)('$(shell which gcc)')
      PsiElement(EOL)('\n')
      PsiWhiteSpace('  ')
      MakefileFunctionImpl(FUNCTION)
        PsiElement($()('$(')
        MakefileFunctionNameImpl(FUNCTION_NAME)
          PsiElement(FUNCTION_NAME)('firstword')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          MakefileFunctionImpl(FUNCTION)
            PsiElement($()('$(')
            MakefileFunctionNameImpl(FUNCTION_NAME)
              PsiElement(FUNCTION_NAME)('wildcard')
            PsiWhiteSpace(' ')
            MakefileFunctionParamImpl(FUNCTION_PARAM)
              MakefileFunctionImpl(FUNCTION)
                PsiElement($()('$(')
                MakefileFunctionNameImpl(FUNCTION_NAME)
                  PsiElement(FUNCTION_NAME)('addsuffix')
                PsiWhiteSpace(' ')
                MakefileFunctionParamImpl(FUNCTION_PARAM)
                  PsiElement(identifier)('/$(1),')
                PsiWhiteSpace(' ')
                MakefileFunctionParamImpl(FUNCTION_PARAM)
                  MakefileFunctionImpl(FUNCTION)
                    PsiElement($()('$(')
                    MakefileFunctionNameImpl(FUNCTION_NAME)
                      PsiElement(FUNCTION_NAME)('subst')
                    PsiWhiteSpace(' ')
                    MakefileFunctionParamImpl(FUNCTION_PARAM)
                      PsiElement(:)(':')
                    MakefileFunctionParamImpl(FUNCTION_PARAM)
                      PsiElement(,)(',')
                    PsiWhiteSpace(' ')
                    MakefileFunctionParamImpl(FUNCTION_PARAM)
                      PsiElement(,)(',')
                    PsiWhiteSpace(' ')
                    MakefileFunctionParamImpl(FUNCTION_PARAM)
                      MakefileVariableUsageImpl(VARIABLE_USAGE)
                        PsiElement($()('$(')
                        PsiElement(identifier)('PATH')
                        PsiElement())(')')
                    PsiElement())(')')
                PsiElement())(')')
            PsiElement())(')')
        PsiElement())(')')
        PsiElement(EOL)('\n')
    PsiElement(endif)('endif')
  PsiElement(EOL)('\n\n')
  MakefileFunctionImpl(FUNCTION)
    PsiElement($()('$(')
    MakefileFunctionNameImpl(FUNCTION_NAME)
      PsiElement(FUNCTION_NAME)('foreach')
    PsiWhiteSpace(' ')
    MakefileFunctionParamImpl(FUNCTION_PARAM)
      PsiElement(identifier)('file,')
    PsiWhiteSpace(' ')
    MakefileFunctionParamImpl(FUNCTION_PARAM)
      PsiElement(variable-usage-curly)('${FILE_LIST}')
    MakefileFunctionParamImpl(FUNCTION_PARAM)
      PsiElement(,)(',')
    PsiWhiteSpace(' ')
    MakefileFunctionParamImpl(FUNCTION_PARAM)
      MakefileFunctionImpl(FUNCTION)
        PsiElement($()('$(')
        MakefileFunctionNameImpl(FUNCTION_NAME)
          PsiElement(FUNCTION_NAME)('call')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          PsiElement(identifier)('MyMacro,')
        PsiWhiteSpace(' ')
        MakefileFunctionParamImpl(FUNCTION_PARAM)
          PsiElement(variable-usage-curly)('${file}')
        PsiElement())(')')
    PsiElement())(')')
    PsiElement(EOL)('\n')
  MakefileFunctionImpl(FUNCTION)
    PsiElement($()('$(')
    MakefileFunctionNameImpl(FUNCTION_NAME)
      PsiElement(FUNCTION_NAME)('call')
    PsiWhiteSpace(' ')
    MakefileFunctionParamImpl(FUNCTION_PARAM)
      PsiElement(identifier)('locate_lib,')
    PsiWhiteSpace(' ')
    MakefileFunctionParamImpl(FUNCTION_PARAM)
      MakefileVariableUsageImpl(VARIABLE_USAGE)
        PsiElement($()('$(')
        PsiElement(identifier)('lib_name')
        PsiElement())(')')
    PsiElement())(')')